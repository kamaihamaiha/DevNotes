## Android 系统的整编和单编

下载完 AOSP 后不仅可以查看源码，还可以做更多有趣的事情：

- 定制 Android 系统
- 将最新版本的 Android 系统刷入到自己的 Android 设备中
- 将整个系统源码倒入到 Android studio
  - 不一定要全部源码才行，有对应 Android 源码版本的 android.iml 和 android.ipr 两个文件就可
- 动态调试 Android 系统源码
  - 不一定要全部源码才行，导入部分源码可以

### 源码编译相关知识了解

- Makefile
- Android.mk
- Ninja
- Soong
- Blueprint
- Kati
- 
#### Ninja

- 小型编译系统
- 用汇编写的
- 编译速度快

#### Soong

- Google 用来替代的 Makefile

#### Blueprint

把 android.bp 文件翻译成 Ninja 语法的

#### Kati

- Google 专门为 Android 开发的小型项目，基于 golong 和 C++
- 目的是把 Makefile 转为 Ninja 文件

#### 关系示意图

![](./imgs/img_1.png)

### Android 系统源码编译有多种方式

- 在 Linux 中直接进行系统源码编译（Android 官方支持）
- 在 Mac OS 中直接进行系统源码编译（Android 官方支持）
- 使用 Docker 编译，支持 Mac OS 和 Windows

### Linux（Ubuntu）下编译介绍

- [环境配置](#环境配置)
- [整编开始](#整编开始)

#### 环境配置
- 设置虚拟机(Ubuntu)处理器
  - 虚拟机情况
- 安装 jdk
  - ``sudo apt-get install openjdk-8-jdk``
- 安装依赖包：
  - ``sudo apt-get install git-core gnupg flex bison gperf build-essential zip curl zlib1g-dev gcc-multilib g++-multilib libc6-dev-i386 lib32ncurses5-dev x11proto-core-dev libx11-dev lib32z-dev ccache libgl1-mesa-dev libxml2-utils xsltproc unzip``

#### 整编开始



---

### 最后

[皇叔的技术博客文章](http://liuwangshu.cn/framework/aosp/3-compiling-aosp.html)